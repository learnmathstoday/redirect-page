<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <script>
    // Function to get query parameter by name
    function getQueryParameter(name) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
      var results = regex.exec(location.search);
      return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    // Get the token from the URL query parameters
    var token = getQueryParameter('token');
    var customUrl;

    // Check if token is available
    if (token) {
      customUrl = 'com.learnmathstoday.dev://app?token=' + token;
    } else {
      customUrl = 'com.learnmathstoday.dev://login';
    }
    
    // Redirect to the custom URL
    window.location.replace(customUrl);
  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>
